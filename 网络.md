[TOC]

# 网络

## 基础

### 一，计算机网络的功能

1. 资源共享：硬件共享，软件共享，提高资源利用率
2. 数据通信：计算机之间传递信息
3. 进行数据信息的集中和综合处理：将分散各地的计算机数据资料进行集中管理
4. 均衡负载，相互协作：可以通过网络合理的分配任务
5. 提高了系统的可靠性和可用性：当网中某一个处理机出现故障，可以有别的代为处理，例子：容灾系统
6. 进行分布式的处理：采用合适的算法将任务分散在网中不同的计算机上进行分布式处理

### 二，计算机网络的物理组成

硬件系统：指构成局域网的所有物理设备的总和

1. 服务器：高性能计算机，用于网络管理，运行应用程序，处理各种请求信息
2. 工作站：由服务器进行管理和提供服务的，连入网络的任何计算机都属于工作站
3. 传输介质：用于网络设备之间通信的网络电缆
4. 网卡：网络适配器，在局域网中将计算机与网络相连接的设备
5. 交换机：用于处理与高宽带相关协议配套的多层设备， 具有数据转发，过滤等功能，适用于数据量大，通信频繁的网络
6. 集线器：用来连接多台计算机或局域网络的设备
7. 调制解调器：用来实现模拟和数字信号之间转换的设备
8. 路由器：一种网络层设备，可互联局域网和广域网，并且当网络上两端存在多条通路的时候，可以提供交通控制和筛选功能，选择信息通路
9. 光纤：玻璃制成的传输介质，通常用于高速通信线路的连接
10. 终端：没有中央处理器的网络工作站，在早期网络中采用

软件系统

1. 网络通信协议：一组规定和约定的准则。
2. 网络操作系统：使网络上多台计算机方便而有效的共享网络资源，为用户提供各种所需的服务。网络操作系统除了具备单机操作系统所需的功能外，还需要提供高效可靠的网络通信能力和提供多项网络服务的功能
3. 网络应用软件：构建在网络操作系统的应用程序，满足网络用户的不同需求，如网络数据库软件，网络通信软件

#### 网络传输

不可靠哪些方面：

   丢包，重复包

   出错

   乱序

不安全方面：

  中间人

  窃取

  篡改  

### 三，什么是ARP和RARP？

ARP（Address Resolution Protocol）：地址解析协议，用来将逻辑地址解析成物理地址

RARP（Reverse Address Resolution Protocol）：将物理地址转化为逻辑地址

## TCP/IP协议

### 一，什么是TCP？

TCP/IP，中文译名为传输控制协议/因特网互联协议，又叫网络通讯协议。这个协议是Intenet最基本的协议，也是Intenet的基础。简单的说，他的名字是由网络层的IP协议和传输层的tcp协议组成的。TCP/IP协议定义了电子设备如何进入因特网，以及数据如何在他们之间传输的标准。

TCP/IP协议是一组包括TCP协议，IP协议，UDP协议、ICMP协议和其他一些协议的协议组。

Transport Control Protocol：面向连接的协议，用三次握手和滑动窗口机制来保证传输的可靠性和进行流量控制

例：滑动窗口协议

滑动窗口协议如何运行，解决了什么问题？

滑动窗口机制为端到端设备间的数据传输提供了可靠的流量控制机制。然而，它只能在源端设备和目的端设备起作用，当网络中间设备(例如路由器等)发生拥塞时，滑动窗口机制将不起作用。

​     TCP协议中使用

​     维持发送方/接收方缓冲区，互相商定如何接受包



​     ![1562399234146](assets/1562399234146.png)

   ![1562399694773](assets/1562399694773.png)

  改进后，时间缩短，吞吐量明显增大，但是发送的数据量（窗口）是多少呢，如何确定收到回复包呢？

滑动窗口的实现

参考：<https://blog.51cto.com/14309541/2390111>

滑动窗口协议，

![1562402311532](assets/1562402311532.png)

上图中的窗口内的数据几遍没有收到确认应答也可以放出去。不过在整个窗口的确认应答没有达到之前，如果其中部分数据出现丢包，那么发送端仍然要负责重新传。为此发送端主机需要设置缓存保留这些被待重传的数据，直到收到他们的确认应答为止。如果如期收到确认应答就可以不再进行重发，此时数据就可以冲缓冲区清楚掉。如果在长时间没有得到确认的情况下，会有超时重传协议。

###  二，TCP和IP的关系

TCP和IP是独立且联系紧密的，负责管理和引导数据的传输。TCP在传输层，IP协议在网络层，TCP协议负责和远程主机的连接，IP负责寻址，将报文发送到指定位置。

### 三，http会话的4个过程

1 建立连接(建立TCP连接)

2请求

3应答

4关闭

#### TCP之三次握手，四次挥手

   网络是不可靠的，任何包都有可能丢失

   遇见问题，解决问题，不断迭代

   能用就好

![1562405028656](assets/1562405028656.png)

​    四次挥手

​             ![1562406641430](assets/1562406641430.png) 

### 四，OSI参考模型

   应用层  http,httpspops

  表示层  处理信息的表达方式，解密加密 数据压缩

  会话层    管理和协调不同主机上各种简称之间的通信（对话），即负责建立、管理和终止进程之间的会话、。

  传输层    tcp udp为上层提供端到端的可靠和透明的数据传输服务。tcp面向连接 udp面向无连接

  网络层       包，分组，通过寻址，本层通过寻址建立两点之间的连接，为源端的运输层送来分组，选择合适的路由和交换节点。路由选择协议（rip），通过路由一级一级传递

  数据链路层    MAC地址，数据分帧，数据流量控制，差错控制，（网卡，网桥，交换机）

  物理层          处于参考模型的最底层，利用物理传输介质为数据链路提供物理连接，透明的传输比特流，常用的设备，集线器，中继器，调制解调器

#### 五，TCP通信的原理以及特点 

​     (1)面向连接的服务

​     (2) 端到端的通信

​     (3)可靠性，确保数据传输的正确性，不出现丢失或乱序。

​      (4)采用字节流的方式，即及字节为单位传输字节序列

###  



## UDP

### 一，什么是UDP？

User Datagram Protocol：面向无连接的不可靠传输层协议

## HTTP

### 一，为什么客户端提交要使用post请求不用get

1. 不安全（在URL中直接可以看到携带的参数）
2. url中只可以携带小于2k的数据（post请求参数在消息体中）
3. 编码方式只适用于消息体，Get请求的URL中如果出现中文，用的是tomcat 默认的编解码格式ISO-8859-1，tomcat安装目录的conf里面的server.xml里面配置Tomcat默认采用UTF-8解码

## HTTPS

### 